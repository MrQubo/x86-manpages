'\" t
.nh
.TH "X86-FCLEX-FNCLEX" "7" "December 2023" "Intel" "Intel x86-64 ISA Manual"
.SH NAME
FCLEX-FNCLEX - CLEAR EXCEPTIONS
\fBOpcode1\fP

.TS
allbox;
l l l l l 
l l l l l .
\fB\fP	\fBInstruction\fP	\fB64-Bit Mode\fP	\fBCompat/Leg Mode\fP	\fBDescription\fP
9B DB E2	FCLEX	Valid	Valid	T{
Clear floating-point exception flags after checking for pending unmasked floating-point exceptions.
T}
DB E2	FNCLEX1	Valid	Valid	T{
Clear floating-point exception flags without checking for pending unmasked floating-point exceptions.
T}
.TE

.PP
.RS

.PP
1\&. See IA-32 Architecture Compatibility section below.

.RE

.SH DESCRIPTION
Clears the floating-point exception flags (PE, UE, OE, ZE, DE, and IE),
the exception summary status flag (ES), the stack fault flag (SF), and
the busy flag (B) in the FPU status word. The FCLEX instruction checks
for and handles any pending unmasked floating-point exceptions before
clearing the exception flags; the FNCLEX instruction does not.

.PP
The assembler issues two instructions for the FCLEX instruction (an
FWAIT instruction followed by an FNCLEX instruction), and the processor
executes each of these instructions separately. If an exception is
generated for either of these instructions, the save EIP points to the
instruction that caused the exception.

.SH IA-32 ARCHITECTURE COMPATIBILITY  href="./fclex:fnclex.html#ia-32-architecture-compatibility"
class="anchor">¶

.PP
When operating a Pentium or Intel486 processor in MS-DOS* compatibility
mode, it is possible (under unusual circumstances) for an FNCLEX
instruction to be interrupted prior to being executed to handle a
pending FPU exception. See the section titled “No-Wait FPU Instructions
Can Get FPU Interrupt in Window” in Appendix D of the Intel®
64 and IA-32 Architectures Software Developer’s Manual, Volume 1, for a
description of these circumstances. An FNCLEX instruction cannot be
interrupted in this way on later Intel processors, except for the Intel
QuarkTM X1000 processor.

.PP
This instruction affects only the x87 FPU floating-point exception
flags. It does not affect the SIMD floating-point exception flags in the
MXCSR register.

.PP
This instruction’s operation is the same in non-64-bit modes and 64-bit
mode.

.SH OPERATION
.EX
FPUStatusWord[0:7] := 0;
FPUStatusWord[15] := 0;
.EE

.SH FPU FLAGS AFFECTED
The PE, UE, OE, ZE, DE, IE, ES, SF, and B flags in the FPU status word
are cleared. The C0, C1, C2, and C3 flags are undefined.

.SH FLOATING-POINT EXCEPTIONS  href="./fclex:fnclex.html#floating-point-exceptions"
class="anchor">¶

.PP
None.

.SH PROTECTED MODE EXCEPTIONS  href="./fclex:fnclex.html#protected-mode-exceptions"
class="anchor">¶

.TS
allbox;
l l 
l l .
\fB\fP	\fB\fP
#NM	CR0.EM[bit 2] or CR0.TS[bit 3] = 1.
#UD	If the LOCK prefix is used.
.TE

.SH REAL-ADDRESS MODE EXCEPTIONS  href="./fclex:fnclex.html#real-address-mode-exceptions"
class="anchor">¶

.PP
Same exceptions as in protected mode.

.SH VIRTUAL-8086 MODE EXCEPTIONS  href="./fclex:fnclex.html#virtual-8086-mode-exceptions"
class="anchor">¶

.PP
Same exceptions as in protected mode.

.SH COMPATIBILITY MODE EXCEPTIONS  href="./fclex:fnclex.html#compatibility-mode-exceptions"
class="anchor">¶

.PP
Same exceptions as in protected mode.

.SH 64-BIT MODE EXCEPTIONS  href="./fclex:fnclex.html#64-bit-mode-exceptions"
class="anchor">¶

.PP
Same exceptions as in protected mode.

.SH COLOPHON
This UNOFFICIAL, mechanically-separated, non-verified reference is
provided for convenience, but it may be
incomplete or
broken in various obvious or non-obvious ways.
Refer to Intel® 64 and IA-32 Architectures Software Developer’s
Manual
\[la]https://software.intel.com/en\-us/download/intel\-64\-and\-ia\-32\-architectures\-sdm\-combined\-volumes\-1\-2a\-2b\-2c\-2d\-3a\-3b\-3c\-3d\-and\-4\[ra]
for anything serious.

.br
This page is generated by scripts; therefore may contain visual or semantical bugs. Please report them (or better, fix them) on https://github.com/MrQubo/x86-manpages.
